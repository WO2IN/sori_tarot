{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///home/win/sori_tarot/components/star-field.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\n\nexport function StarField() {\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    const container = containerRef.current\n    if (!container) return\n\n    const starCount = 80\n    for (let i = 0; i < starCount; i++) {\n      const star = document.createElement(\"div\")\n      star.className = \"star animate-twinkle\"\n      star.style.left = `${Math.random() * 100}%`\n      star.style.top = `${Math.random() * 100}%`\n      star.style.animationDelay = `${Math.random() * 5}s`\n      star.style.animationDuration = `${2 + Math.random() * 4}s`\n      const size = Math.random() * 2 + 1\n      star.style.width = `${size}px`\n      star.style.height = `${size}px`\n      container.appendChild(star)\n    }\n\n    return () => {\n      while (container.firstChild) {\n        container.removeChild(container.firstChild)\n      }\n    }\n  }, [])\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"pointer-events-none fixed inset-0 z-0 overflow-hidden\"\n      aria-hidden=\"true\"\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS;IACd,MAAM,eAAe,IAAA,8UAAM,EAAiB;IAE5C,IAAA,iVAAS,EAAC;QACR,MAAM,YAAY,aAAa,OAAO;QACtC,IAAI,CAAC,WAAW;QAEhB,MAAM,YAAY;QAClB,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;YAClC,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,SAAS,GAAG;YACjB,KAAK,KAAK,CAAC,IAAI,GAAG,GAAG,KAAK,MAAM,KAAK,IAAI,CAAC,CAAC;YAC3C,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,KAAK,MAAM,KAAK,IAAI,CAAC,CAAC;YAC1C,KAAK,KAAK,CAAC,cAAc,GAAG,GAAG,KAAK,MAAM,KAAK,EAAE,CAAC,CAAC;YACnD,KAAK,KAAK,CAAC,iBAAiB,GAAG,GAAG,IAAI,KAAK,MAAM,KAAK,EAAE,CAAC,CAAC;YAC1D,MAAM,OAAO,KAAK,MAAM,KAAK,IAAI;YACjC,KAAK,KAAK,CAAC,KAAK,GAAG,GAAG,KAAK,EAAE,CAAC;YAC9B,KAAK,KAAK,CAAC,MAAM,GAAG,GAAG,KAAK,EAAE,CAAC;YAC/B,UAAU,WAAW,CAAC;QACxB;QAEA,OAAO;YACL,MAAO,UAAU,UAAU,CAAE;gBAC3B,UAAU,WAAW,CAAC,UAAU,UAAU;YAC5C;QACF;IACF,GAAG,EAAE;IAEL,qBACE,6WAAC;QACC,KAAK;QACL,WAAU;QACV,eAAY;;;;;;AAGlB"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///home/win/sori_tarot/components/admin-reservation-list.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useTransition } from \"react\"\nimport { Calendar, Clock, User, Phone, Mail, MessageSquare } from \"lucide-react\"\n\nimport type { Reservation } from \"@/app/admin/page\"\n\nfunction StatusBadge({ status }: { status: string }) {\n  const styles: Record<string, string> = {\n    pending: \"border-yellow-500/30 bg-yellow-500/10 text-yellow-400\",\n    confirmed: \"border-green-500/30 bg-green-500/10 text-green-400\",\n    cancelled: \"border-red-500/30 bg-red-500/10 text-red-400\",\n  }\n\n  const labels: Record<string, string> = {\n    pending: \"대기 중\",\n    confirmed: \"진행 중\",\n    completed: \"완료\",\n    cancelled: \"취소\",\n  }\n\n  const key = status === \"completed\" ? \"completed\" : status\n\n  return (\n    <span\n      className={`inline-flex rounded-full border px-3 py-1 text-xs font-medium ${\n        styles[key] || styles.pending\n      }`}\n    >\n      {labels[status] || labels[key] || status}\n    </span>\n  )\n}\n\ntype Props = {\n  initialReservations: Reservation[]\n}\n\nexport function AdminReservationList({ initialReservations }: Props) {\n  const [reservations, setReservations] = useState(initialReservations)\n  const [isPending, startTransition] = useTransition()\n  const [updatingId, setUpdatingId] = useState<string | null>(null)\n  const [error, setError] = useState(\"\")\n\n  const updateStatus = (id: string, status: string) => {\n    setUpdatingId(id)\n    setError(\"\")\n    startTransition(async () => {\n      const res = await fetch(`/api/admin/reservations/${id}/status`, {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ status, id, created_at: reservations.find((r) => r.id === id)?.created_at }),\n      })\n\n      if (!res.ok) {\n        const data = await res.json().catch(() => ({}))\n        setError(data.error || \"상태 변경에 실패했습니다.\")\n        setUpdatingId(null)\n        return\n      }\n\n      setReservations((prev) =>\n        prev.map((r) => (r.id === id ? { ...r, status } : r)),\n      )\n      setUpdatingId(null)\n    })\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      {error && (\n        <div className=\"rounded-lg border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive\">\n          {error}\n        </div>\n      )}\n      {reservations.map((reservation) => (\n        <div\n          key={reservation.id}\n          className=\"rounded-xl border border-border/50 bg-card p-6 transition-all hover:border-primary/20\"\n        >\n          <div className=\"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between\">\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"flex flex-wrap items-center gap-3\">\n                <h3 className=\"font-serif text-lg font-semibold text-foreground\">\n                  {reservation.name}\n                </h3>\n                <StatusBadge status={reservation.status} />\n                <div className=\"flex flex-wrap gap-2 text-xs\">\n                  <button\n                    type=\"button\"\n                    onClick={() => updateStatus(reservation.id, \"pending\")}\n                    disabled={isPending && updatingId === reservation.id}\n                    className=\"rounded-full border border-border/60 px-3 py-1 text-[11px] text-muted-foreground hover:border-yellow-500/60 hover:text-yellow-400 disabled:opacity-50\"\n                  >\n                    대기중\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => updateStatus(reservation.id, \"confirmed\")}\n                    disabled={isPending && updatingId === reservation.id}\n                    className=\"rounded-full border border-border/60 px-3 py-1 text-[11px] text-muted-foreground hover:border-green-500/60 hover:text-green-400 disabled:opacity-50\"\n                  >\n                    진행 중\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => updateStatus(reservation.id, \"completed\")}\n                    disabled={isPending && updatingId === reservation.id}\n                    className=\"rounded-full border border-border/60 px-3 py-1 text-[11px] text-muted-foreground hover:border-primary/60 hover:text-primary disabled:opacity-50\"\n                  >\n                    완료\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => updateStatus(reservation.id, \"cancelled\")}\n                    disabled={isPending && updatingId === reservation.id}\n                    className=\"rounded-full border border-border/60 px-3 py-1 text-[11px] text-muted-foreground hover:border-red-500/60 hover:text-red-400 disabled:opacity-50\"\n                  >\n                    취소\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4 text-sm text-muted-foreground\">\n                <span className=\"flex items-center gap-1.5\">\n                  <User className=\"h-3.5 w-3.5 text-primary/60\" />\n                  {reservation.service_type}\n                </span>\n                <span className=\"flex items-center gap-1.5\">\n                  <Calendar className=\"h-3.5 w-3.5 text-primary/60\" />\n                  {reservation.preferred_date}\n                </span>\n                <span className=\"flex items-center gap-1.5\">\n                  <Clock className=\"h-3.5 w-3.5 text-primary/60\" />\n                  {reservation.preferred_time}\n                </span>\n              </div>\n\n              <div className=\"flex flex-wrap gap-4 text-sm text-muted-foreground\">\n                <span className=\"flex items-center gap-1.5\">\n                  <Phone className=\"h-3.5 w-3.5 text-primary/60\" />\n                  {reservation.phone}\n                </span>\n                {reservation.email && (\n                  <span className=\"flex items-center gap-1.5\">\n                    <Mail className=\"h-3.5 w-3.5 text-primary/60\" />\n                    {reservation.email}\n                  </span>\n                )}\n              </div>\n\n              {reservation.message && (\n                <div className=\"mt-1 flex items-start gap-1.5 rounded-lg bg-background/50 p-3 text-sm text-foreground/70\">\n                  <MessageSquare className=\"mt-0.5 h-3.5 w-3.5 shrink-0 text-primary/60\" />\n                  {reservation.message}\n                </div>\n              )}\n            </div>\n\n            <div className=\"text-xs text-muted-foreground/60\">\n              {new Date(reservation.created_at).toLocaleDateString(\"ko-KR\", {\n                year: \"numeric\",\n                month: \"long\",\n                day: \"numeric\",\n                hour: \"2-digit\",\n                minute: \"2-digit\",\n              })}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}}]
}